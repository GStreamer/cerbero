class Recipe(recipe.Recipe):
    name = 'mingw-w64-sources'
    version = 'v11.0.1'
    licenses = [{License.BSD_like: ['COPYING']}]
    url = 'https://downloads.sourceforge.net/project/mingw-w64/mingw-w64/mingw-w64-release/mingw-w64-%(version)s.tar.bz2'
    tarball_checksum = '3f66bce069ee8bed7439a1a13da7cb91a5e67ea6170f21317ac7f5794625ee10'
    stype = SourceType.TARBALL
    btype = BuildType.CUSTOM
    patches = [
        'mingw-w64/0001-Allow-to-use-bessel-and-complex-functions-without-un.patch',
        ]
    tarball_dirname = 'mingw-w64-%(version)s'

    def prepare(self):
        if self.config.target_arch == Architecture.X86:
            raise InvalidRecipeError(self)
        self.build_dir = os.path.join(self.config.sources,
                'mingw-w64-%s' % self.version)
