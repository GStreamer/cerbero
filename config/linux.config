# This file contains the default configuration to compile for Linux
# platforms. It contains sensitive enviroment configuration that
# shouldn't be modified unless you know what you are doing.
# PLEASE, DO NOT EDIT THIS FILE

import os
from cerbero.config import Architecture

for f in ['CFLAGS', 'CCASFLAGS', 'CXXFLAGS', 'LDFLAGS', 'OBJCFLAGS']:
    os.environ[f] = os.environ.get(f, '')

if target_arch == Architecture.X86:
    arch_flags = ' -m32 '
    _host = 'i686-linux-gnu'
else:
    arch_flags = ' -m64 '
    _host = 'x86_64-linux-gnu'

if host is None and target_arch != arch:
    host = _host

os.environ['CFLAGS'] += ' -Wall -g -O2' + arch_flags
os.environ['CXXFLAGS'] += ' -Wall -g -O2' + arch_flags
os.environ['OBJCFLAGS'] += ' -Wall -g -O2' + arch_flags
os.environ['CCASFLAGS'] += ' -Wall -g -O2' + arch_flags
os.environ['LDFLAGS'] += arch_flags
os.environ['am_cv_python_pyexecdir'] = '%s/%s/site-packages' % (prefix, py_prefix)
os.environ['am_cv_python_pythondir'] = '%s/%s/site-packages' % (prefix, py_prefix)

os.environ['CC'] = 'gcc'
os.environ['CXX'] = 'g++'
os.environ['STRIP'] = 'strip'
os.environ['LD'] = 'ld'
os.environ['AR'] = 'ar'
os.environ['RANLIB'] = 'ranlib'
os.environ['NM'] = 'nm'
os.environ['OBJCOPY'] = 'objcopy'

if use_ccache:
    comp = os.environ.get('CC', 'gcc')
    if not 'ccache' in comp:
        os.environ['CC'] = 'ccache ' + comp
    comp = os.environ.get('CXX', 'g++')
    if not 'ccache' in comp:
        os.environ['CXX'] = 'ccache ' + comp
